{
  "name": "shift",
  "version": "1.0.0",
  "type": "module",
  "dependencies": {
    "concurrently": "^8.2.2",
    "hugo-installer": "^4.0.1",
    "env-cmd": "^10.1.0",
    "exec-bin": "^1.0.0"
  },
  "workspaces": [
    "app",
    "tools"
  ],
  "scripts": {
    "postinstall": "hugo-installer --version 0.128.0",

    "start": "npm -w app start",
    "prestart": "npm i --omit dev --audit false --fund false --ignore-scripts",

    "dev": "concurrently -k \"npm:dev-*\"",
    "predev": "env-cmd -f tools/dev.env node tools/setupEventImages.js",
   	"dev-app": "env-cmd -f tools/dev.env npm start -w app",
    "dev-hugo": "exec-bin bin/hugo/hugo -w -s site -d ../bin/dist",

    "watch": "exec-bin bin/hugo/hugo -w -s site -d public",
    "build": "exec-bin bin/hugo/hugo -s site -d public",
    "prebuild": "npm i",

    "preup": "npm run build",
    "up": "docker compose up -d",
    "down": "docker compose down",
    "emails": "docker compose logs node -f",

    "preview": "concurrently -k \"npm:dev-*\"",
    "preview-hugo": "npm run dev-hugo",
    "preview-app": " npm -w tools run preview",

    "docker-create-events": "docker compose exec node node ./tools/makeFakeEvents.js",
    "test": "npm run test -w app"
  }
}